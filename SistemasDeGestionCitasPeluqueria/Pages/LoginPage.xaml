<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:conv="clr-namespace:SistemasDeGestionCitasPeluqueria.Converters"
             xmlns:pageModels="clr-namespace:SistemasDeGestionCitasPeluqueria.PageModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="SistemasDeGestionCitasPeluqueria.Pages.LoginPage"
             x:DataType="pageModels:LoginPageModel"
             Title="Iniciar sesión">

    <ContentPage.Resources>
        <conv:ImageSourceFromStringConverter x:Key="ImageSourceFromStringConverter" />

        <!-- Botón morado sin verde -->
        <Style x:Key="LoginPrimaryButtonNoAccent" TargetType="Button">
            <Setter Property="HeightRequest" Value="48" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Margin" Value="0,16,0,0" />
            <Setter Property="BackgroundColor" Value="#512BD4" />
            <Setter Property="TextColor" Value="White" />
        </Style>
    </ContentPage.Resources>

    <Grid>
        <!-- Fondo -->
        <Image Source="{Binding HeroImageUrl, Converter={StaticResource ImageSourceFromStringConverter}}"
               Aspect="AspectFill"
               AutomationProperties.IsInAccessibleTree="False" />

        <!-- Overlay oscuro ligero para mejorar contraste -->
        <BoxView Opacity="0.35" BackgroundColor="Black" />

        <!-- Contenedor centrado -->
        <VerticalStackLayout HorizontalOptions="Center"
                             VerticalOptions="Center"
                             Spacing="28">

            <!-- Encabezados (icono eliminado) -->
            <VerticalStackLayout Spacing="4"
                                 HorizontalOptions="Center">
                <Label Text="Barbería Premium"
                       FontAttributes="Bold"
                       FontSize="20"
                       TextColor="White"
                       HorizontalTextAlignment="Center" />
                <Label Text="Tu estilo, nuestra pasión"
                       FontSize="14"
                       TextColor="White"
                       Opacity="0.9"
                       HorizontalTextAlignment="Center" />
            </VerticalStackLayout>

            <!-- Tarjeta Login -->
            <Border Style="{StaticResource LoginCardBorderStyle}">
                <VerticalStackLayout Spacing="18">

                    <!-- Usuario -->
                    <VerticalStackLayout Spacing="6">
                        <Label Text="Usuario"
                               FontAttributes="Bold"
                               FontSize="12"
                               TextColor="{DynamicResource TextPrimary}" />
                        <Border Style="{StaticResource LoginInputBorderStyle}">
                            <Entry x:Name="UserEntry"
                                   Style="{StaticResource LoginEntryStyle}"
                                   Placeholder="juan.diaz" />
                        </Border>
                    </VerticalStackLayout>

                    <!-- Contraseña -->
                    <VerticalStackLayout Spacing="6">
                        <Label Text="Contraseña"
                               FontAttributes="Bold"
                               FontSize="12"
                               TextColor="{DynamicResource TextPrimary}" />
                        <Border Style="{StaticResource LoginInputBorderStyle}">
                            <Entry x:Name="PasswordEntry"
                                   Style="{StaticResource LoginEntryStyle}"
                                   IsPassword="True"
                                   Placeholder="********" />
                        </Border>
                    </VerticalStackLayout>

                    <!-- Botón -->
                    <Button x:Name="LoginButton"
                            Text="Entrar a la aplicación"
                            Style="{StaticResource LoginPrimaryButtonNoAccent}"
                            Clicked="OnLoginClicked" />

                    <!-- Registro -->
                    <Label Text="¿No tienes cuenta? Regístrate"
                           FontSize="12"
                           TextColor="{DynamicResource TextSecondary}"
                           HorizontalOptions="Center"
                           Margin="0,4,0,0" />
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>

        <!-- Botón ayuda -->
        <Button Text="?"
                HorizontalOptions="End"
                VerticalOptions="End"
                WidthRequest="36"
                HeightRequest="36"
                Margin="0,0,12,12"
                FontAttributes="Bold"
                BackgroundColor="#512BD4"
                TextColor="White"
                CornerRadius="18" />
    </Grid>
</ContentPage>