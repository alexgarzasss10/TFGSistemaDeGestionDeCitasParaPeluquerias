<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SistemasDeGestionCitasPeluqueria.Pages.RegisterDialogPage"
             Title="Registro"
             BackgroundColor="Transparent">

    <Grid Padding="24">
        <!-- Overlay oscuro -->
        <BoxView BackgroundColor="{DynamicResource Black}" Opacity="0.45" />

        <ScrollView Orientation="Vertical" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
            <VerticalStackLayout HorizontalOptions="Center" VerticalOptions="Center" Spacing="16">

                <!-- Tarjeta centrada -->
                <Border Style="{StaticResource LoginCardBorderStyle}">
                    <VerticalStackLayout Spacing="12">

                        <Label Text="Crear cuenta"
                               FontAttributes="Bold"
                               FontSize="18"
                               TextColor="{DynamicResource TextPrimary}"
                               HorizontalOptions="Center" />

                        <!-- Nombre completo -->
                        <VerticalStackLayout Spacing="6">
                            <Label Text="Nombre completo"
                                   FontSize="12"
                                   TextColor="{DynamicResource TextPrimary}" />
                            <Border Style="{StaticResource LoginInputBorderStyle}">
                                <Entry x:Name="FullNameEntry"
                                       Style="{StaticResource LoginEntryStyle}"
                                       Placeholder="Juan Pérez" />
                            </Border>
                        </VerticalStackLayout>

                        <!-- Email (opcional) -->
                        <VerticalStackLayout Spacing="6">
                            <Label Text="Email (opcional)"
                                   FontSize="12"
                                   TextColor="{DynamicResource TextPrimary}" />
                            <Border Style="{StaticResource LoginInputBorderStyle}">
                                <Entry x:Name="EmailEntry"
                                       Style="{StaticResource LoginEntryStyle}"
                                       Placeholder="juan@ejemplo.com"
                                       Keyboard="Email" />
                            </Border>
                        </VerticalStackLayout>

                        <!-- Usuario -->
                        <VerticalStackLayout Spacing="6">
                            <Label Text="Usuario"
                                   FontSize="12"
                                   TextColor="{DynamicResource TextPrimary}" />
                            <Border Style="{StaticResource LoginInputBorderStyle}">
                                <Entry x:Name="UserEntry"
                                       Style="{StaticResource LoginEntryStyle}"
                                       Placeholder="juan.diaz" />
                            </Border>
                        </VerticalStackLayout>

                        <!-- Contraseña -->
                        <VerticalStackLayout Spacing="6">
                            <Label Text="Contraseña"
                                   FontSize="12"
                                   TextColor="{DynamicResource TextPrimary}" />
                            <Border Style="{StaticResource LoginInputBorderStyle}">
                                <Entry x:Name="PasswordEntry"
                                       Style="{StaticResource LoginEntryStyle}"
                                       IsPassword="True"
                                       Placeholder="********"
                                       TextChanged="OnPasswordChanged" />
                            </Border>

                            <!-- Requisitos de contraseña -->
                            <VerticalStackLayout x:Name="PasswordHints"
                                                 Spacing="2"
                                                 IsVisible="False">
                                <Label x:Name="ReqLenLbl" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
                                <Label x:Name="ReqUpperLbl" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
                                <Label x:Name="ReqLowerLbl" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
                                <Label x:Name="ReqDigitLbl" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
                                <Label x:Name="ReqSymbolLbl" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
                            </VerticalStackLayout>
                        </VerticalStackLayout>

                        <!-- Confirmar contraseña -->
                        <VerticalStackLayout Spacing="6">
                            <Label Text="Confirmar contraseña"
                                   FontSize="12"
                                   TextColor="{DynamicResource TextPrimary}" />
                            <Border Style="{StaticResource LoginInputBorderStyle}">
                                <Entry x:Name="ConfirmPasswordEntry"
                                       Style="{StaticResource LoginEntryStyle}"
                                       IsPassword="True"
                                       Placeholder="********"
                                       TextChanged="OnPasswordChanged" />
                            </Border>

                            <!-- Pista de confirmación -->
                            <Label x:Name="ConfirmHintLbl"
                                   FontSize="11"
                                   IsVisible="False"
                                   TextColor="{DynamicResource TextSecondary}" />
                        </VerticalStackLayout>

                        <!-- Etiqueta de error -->
                        <Label x:Name="ErrorLabel"
                               TextColor="{DynamicResource ErrorAlertText}"
                               FontSize="12"
                               IsVisible="False" />

                        <!-- Botones -->
                        <VerticalStackLayout Spacing="10">
                            <Button Text="Registrarse"
                                    Style="{StaticResource LoginPrimaryButtonStyle}"
                                    Clicked="OnRegisterClicked" />
                            <Button Text="Cancelar"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Clicked="OnCancelClicked" />
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Border>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>